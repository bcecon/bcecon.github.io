<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Byeong-Hak Choe">
  <meta name="dcterms.date" content="2025-10-03">
  <title>Lecture 7</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Lecture 7</h1>
  <p class="subtitle">Public Goods</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Byeong-Hak Choe 
</div>
<div class="quarto-title-author-email">
<a href="mailto:bchoe@geneseo.edu">bchoe@geneseo.edu</a>
</div>
        <p class="quarto-title-affiliation">
            SUNY Geneseo
          </p>
    </div>
</div>

  <p class="date">October 3, 2025</p>
</section>
<section>
<section id="public-goods" class="title-slide slide level1 center" data-background-color="#1c4982">
<h1>Public Goods</h1>

</section>
<section id="rivalry-excludability" class="slide level2">
<h2>Rivalry &amp; Excludability</h2>
<div style="text-align: center; width: 100%; margin: auto;">
<img src="https://bcdanl.github.io/lec_figs/common-public-goods.png" alt="Goods classification by rivalry and excludability" style="width: 100%; margin-bottom: -20px;">
<p style="font-weight: bold;">
</p>
</div>
<div style="display:block; margin:50px;">

</div>
<p><strong>Rival?</strong> Does one person‚Äôs use reduce what remains available for others?</p>
<p><strong>Excludable?</strong> Can access be restricted to those who pay‚Äîor can anyone consume the good even without paying?</p>
<!-- ## What is a public good? -->
<!-- - **Why it matters**:  -->
<!--   - With nonexcludability, pricing access is hard   -->
<!--   ‚Üí voluntary contributions invite **free riding**   -->
<!--   ‚Üí markets **underprovide** relative to the social optimum. -->
<!-- :::callout-notes -->
<!-- - Remind: rivalry is about marginal cost of an additional user; if near zero, nonrival. -->
<!-- ::: -->
</section>
<section id="where-do-public-goods-show-up-in-energy-climate" class="slide level2">
<h2>Where Do Public Goods Show Up in Energy &amp; Climate?</h2>
<ul>
<li class="fragment"><strong>Basic R&amp;D</strong> in energy efficiency, storage, fusion, green hydrogen (knowledge spillovers).<br>
</li>
<li class="fragment"><strong>Awareness campaigns</strong> on climate &amp; energy saving.<br>
</li>
<li class="fragment"><strong>Protective infrastructure</strong> (often <em>local</em> public goods):
<ul>
<li class="fragment">Sea walls &amp; surge barriers (coastal protection)</li>
<li class="fragment">Riverbank &amp; floodplain defenses</li>
<li class="fragment">Urban heat mitigation (cool roofs, urban canopy)</li>
</ul></li>
<li class="fragment"><strong>Global mitigation</strong> (e.g., CO‚ÇÇ reduction benefits) vs.&nbsp;<strong>local adaptation</strong> (place-specific benefits).</li>
</ul>
<!-- ## Local vs. Global Public Goods -->
<!-- - **Global**: climate mitigation, basic scientific knowledge.   -->
<!-- - **Local**: flood defenses, wildfire buffers, urban cooling‚Äîall benefit specific regions.   -->
<!-- - Financing often blends **national support** + **local cost-sharing** to reflect incidence. -->
</section>
<section id="market-failures---why-markets-underprovide-public-goods" class="slide level2">
<h2>Market Failures - Why Markets Underprovide Public Goods</h2>
<ul>
<li class="fragment">In competitive markets, <strong>demand = willingness to pay (WTP)</strong> for private goods.<br>
</li>
<li class="fragment">For public goods, <strong>individual WTP understates marginal benefit (MB)</strong> because people can consume <strong>even if they pay less (or nothing)</strong>.<br>
</li>
<li class="fragment"><u><em>Result</em></u>: <strong>Free riding</strong> ‚Üí <span class="math inline">\(\text{(Total Voluntary Funding)} \,&lt;\,\text{(Cost)}\)</span> ‚Üí <strong>Underprovision</strong>.</li>
</ul>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<ul>
<li class="fragment">Market failure here is <strong>on the demand side</strong>, unlike overuse of common-pool resources which is <strong>on the production side</strong>.</li>
</ul>
</div>
</div>
</div>
<!-- ## Aggregating Benefits: Vertical Summation -->
<!-- - For public goods, **social marginal benefit (SMB)** is the **vertical sum** of individual MB curves: -->
<!-- $$ -->
<!-- \text{SMB}(Q) \;=\; \sum_{i=1}^n \text{MB}_i(Q) -->
<!-- $$ -->
<!-- **Samuelson condition (optimum $Q^{*}$)**: -->
<!-- $$ -->
<!-- \boxed{\sum_i \text{MB}_i(Q^{*}) \;=\; \text{MC}(Q^{*})} -->
<!-- $$ -->
<!-- - Contrast: Private-good market demand is a **horizontal** sum of individual demands. -->
</section>
<section id="aggregating-benefits-vertical-summation" class="slide level2">
<h2>Aggregating Benefits: Vertical Summation</h2>
<div class="columns">
<div class="column" style="width:47.5%;">
<div style="text-align: center; width: 100%; margin: auto;">
<img src="https://bcdanl.github.io/lec_figs/hr-fig4-4.png" alt="" style="width: 100%; margin-bottom: -20px;">
<p style="font-weight: bold;">
</p>
</div>
</div><div class="column" style="width:52.5%;">
<ul>
<li class="fragment">Both value forest preservation (acres <span class="math inline">\(Q\)</span>).<br>
</li>
<li class="fragment">At <span class="math inline">\(Q=10\)</span>, Doug‚Äôs <span class="math inline">\(MB\)</span> = $5; Sasha‚Äôs <span class="math inline">\(MB\)</span> = $2.</li>
<li class="fragment">For public goods, <strong>social marginal benefit (SMB)</strong> is the <strong>vertical sum</strong> of individual MB curves
<ul>
<li class="fragment"><strong>SMB = $7</strong>.</li>
</ul></li>
<li class="fragment">Suppose <strong>SMC = $7 per acre</strong> (constant).<br>
</li>
<li class="fragment">Then <span class="math inline">\(Q^{*} = 10\)</span> where <strong>SMB = SMC</strong>.</li>
</ul>
</div>
</div>
<!-- :::callout-note -->
<!-- - Private-good market demand is a **horizontal** sum of individual demands. -->
<!-- ::: -->
</section>
<section id="funding-the-optimum-who-pays" class="slide level2">
<h2>Funding the Optimum (Who Pays?)</h2>
<div class="columns">
<div class="column" style="width:47.5%;">
<div style="text-align: center; width: 100%; margin: auto;">
<img src="https://bcdanl.github.io/lec_figs/hr-fig4-4.png" alt="" style="width: 100%; margin-bottom: -20px;">
<p style="font-weight: bold;">
</p>
</div>
</div><div class="column" style="width:52.5%;">
<ul>
<li class="fragment"><strong>Total Cost</strong> = $70. Options:
<ul>
<li class="fragment"><strong>Uniform tax</strong>: Doug $35, Sasha $35 (simple, but ignores benefit differences).<br>
</li>
<li class="fragment"><strong>Benefit-based shares</strong> (ideal but hard to measure): Doug pays more since his MB is higher.<br>
</li>
<li class="fragment"><strong>Ability-to-pay</strong>: progressive finance to address equity concerns.</li>
</ul></li>
<li class="fragment">Tensions:
<ul>
<li class="fragment"><strong>Efficiency</strong>: hit <span class="math inline">\(Q^{*}\)</span>.<br>
</li>
<li class="fragment"><strong>Fairness</strong>: how to split the bill?</li>
</ul></li>
</ul>
</div>
</div>
<!-- ## Lindahl pricing (idealized) -->
<!-- - Each person faces a **personalized price** equal to their MB at $Q^{*}$.   -->
<!-- - Total of personalized prices equals MC: -->
<!--   $$ -->
<!--   \sum_i p_i = \text{MC}, \quad p_i = \text{MB}_i(Q^{*}) -->
<!--   $$ -->
<!-- - If everyone truthfully reports MB, the outcome is efficient and fair by construction. -->
<!-- **Problem**: People have incentives to **understate** MB ‚Üí preference revelation failure. -->
<!-- ## Mechanisms & Policy Tools -->
<!-- - **Direct public provision** ‚Äî government supplies the good, financed through general taxation   -->
<!--   *Examples: national defense, basic research, public health campaigns*   -->
<!-- - **Matching grants & subsidies** ‚Äî amplify voluntary contributions by adding public funds   -->
<!--   *Encourages private giving, lowers cost of participation*   -->
<!-- - **Earmarked taxes & levies** ‚Äî dedicated funding streams tied to the good   -->
<!--   *Examples: resilience bonds, carbon levies, conservation assessments*   -->
<!-- - **Patents & prizes** ‚Äî create incentives for innovation by making outcomes partly excludable   -->
<!--   *Encourages R&D while still generating spillovers*   -->
<!-- - **Information & social norms** ‚Äî campaigns and education to shift behavior and increase support   -->
<!--   *Examples: climate awareness, energy-saving initiatives*   -->
</section>
<section id="policy-tools---direct-public-provision" class="slide level2">
<h2>Policy Tools - Direct Public Provision</h2>
<ul>
<li class="fragment"><p>Government directly <strong>provides the public good</strong>, funded through <strong>general taxation</strong>.<br>
</p></li>
<li class="fragment"><p>Avoids reliance on voluntary contributions ‚Üí ensures adequate and stable supply.<br>
</p></li>
<li class="fragment"><p>Citizens share costs through taxes, but <strong>everyone benefits</strong> once the good is provided.</p></li>
<li class="fragment"><p><em>Examples:</em></p>
<ul>
<li class="fragment">National defense<br>
</li>
<li class="fragment">Basic scientific research<br>
</li>
<li class="fragment">Public health campaigns (e.g., vaccination drives)</li>
</ul></li>
</ul>
</section>
<section id="policy-tools---matching-grants-subsidies" class="slide level2">
<h2>Policy Tools - Matching grants &amp; subsidies</h2>
<ul>
<li class="fragment">Amplify voluntary contributions by adding public funds<br>
<em>Encourages private giving, lowers cost of participation</em><br>
</li>
<li class="fragment"><em>Examples:</em>
<ul>
<li class="fragment">U.S. federal <strong>charitable gift matching</strong> programs (e.g., matching donations to conservation NGOs)<br>
</li>
<li class="fragment"><strong>Public broadcasting</strong> pledge drives with matching challenges<br>
</li>
<li class="fragment"><strong>State and federal subsidies</strong> for rooftop solar panels and energy-efficient appliances<br>
</li>
<li class="fragment">Local governments matching <strong>community fundraising</strong> for parks, libraries, or schools<br>
</li>
<li class="fragment">International funds (e.g., <strong>Green Climate Fund</strong>) co-financing climate adaptation projects with national contributions</li>
</ul></li>
</ul>
</section>
<section id="policy-tools---earmarked-taxes-levies" class="slide level2">
<h2>Policy Tools - Earmarked Taxes &amp; Levies</h2>
<ul>
<li class="fragment"><p><strong>Dedicated funding streams</strong> linked directly to a specific public good.<br>
</p></li>
<li class="fragment"><p>Revenues cannot be spent elsewhere ‚Üí builds <strong>trust</strong> that taxes support the intended purpose.<br>
</p></li>
<li class="fragment"><p>Helps align <strong>costs with beneficiaries</strong> (those who pay are often those who benefit most).</p></li>
<li class="fragment"><p><em>Examples:</em></p>
<ul>
<li class="fragment">Resilience bonds to finance disaster protection infrastructure<br>
</li>
<li class="fragment">Carbon levies to support climate mitigation and clean energy<br>
</li>
<li class="fragment">Local conservation assessments for parks, wetlands, or open space protection</li>
</ul></li>
</ul>
</section>
<section id="policy-tools---patents-prizes" class="slide level2">
<h2>Policy Tools - Patents &amp; Prizes</h2>
<ul>
<li class="fragment">Provide <strong>incentives for innovation</strong> by making knowledge partly excludable.<br>
</li>
<li class="fragment"><strong>Patents</strong>: grant temporary monopoly rights to inventors ‚Üí they can earn profits, encouraging investment in R&amp;D.<br>
</li>
<li class="fragment"><strong>Prizes</strong>: reward specific breakthroughs without ongoing monopoly, while allowing broader diffusion.<br>
</li>
<li class="fragment">Both approaches aim to stimulate innovation while still creating <strong>knowledge spillovers</strong> that benefit society.<br>
</li>
<li class="fragment"><em>Examples:</em>
<ul>
<li class="fragment">Pharmaceutical patents for new drugs<br>
</li>
<li class="fragment">XPRIZE competitions (e.g., carbon removal, space technology)<br>
</li>
<li class="fragment">Government innovation prizes for energy efficiency or medical devices</li>
</ul></li>
</ul>
</section>
<section id="policy-tools---information-social-norms" class="slide level2">
<h2>Policy Tools - Information &amp; Social Norms</h2>
<ul>
<li class="fragment"><p>Use <strong>campaigns, education, and messaging</strong> to influence behavior and public attitudes.<br>
</p></li>
<li class="fragment"><p>Can shift <strong>social norms</strong> so that contributing to or supporting a public good becomes the default.<br>
</p></li>
<li class="fragment"><p>Works best when combined with other policy tools (taxes, subsidies, regulation).</p></li>
<li class="fragment"><p><em>Examples</em></p>
<ul>
<li class="fragment">Climate awareness campaigns (e.g., ‚ÄúAct on Climate‚Äù)<br>
</li>
<li class="fragment">Energy-saving initiatives (‚ÄúTurn off the lights,‚Äù Energy Star labeling)<br>
</li>
<li class="fragment">Public health messages (seatbelt use, anti-smoking, vaccination reminders)<br>
</li>
<li class="fragment">Recycling and waste reduction campaigns</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="money-growing-on-trees-payments-for-environmental-services-in-community-forestry" class="title-slide slide level1 center" data-background-color="#1c4982">
<h1>Money Growing on Trees: Payments for Environmental Services in Community Forestry</h1>

</section>
<section id="climate-change-and-forests" class="slide level2">
<h2>Climate Change and Forests</h2>
<ul>
<li class="fragment">Climate change arises from <strong>net greenhouse gas emissions</strong></li>
<li class="fragment">Abatement (mitigation) can come from
<ul>
<li class="fragment">‚Üì <strong>Reducing sources</strong> ‚Äî burning fewer fossil fuels<br>
</li>
<li class="fragment">‚Üë <strong>Increasing sinks</strong> ‚Äî forests that absorb CO‚ÇÇ<br>
</li>
</ul></li>
<li class="fragment">Forests act as <strong>natural carbon storage</strong></li>
<li class="fragment">‚ÄúAvoiding deforestation‚Äù = <em>negative emissions relative to baseline</em></li>
</ul>
</section>
<section id="avoiding-deforestation-economics-of-abatement" class="slide level2">
<h2>Avoiding Deforestation: Economics of Abatement</h2>
<ul>
<li class="fragment"><strong>Social benefit</strong>: avoided climate damages (global public good)<br>
</li>
<li class="fragment"><strong>Social cost</strong>: opportunity cost of land or resources
<ul>
<li class="fragment">Lost agricultural income<br>
</li>
<li class="fragment">Lost timber or charcoal value<br>
</li>
</ul></li>
<li class="fragment">Many tropical regions offer <strong>low-cost abatement</strong> opportunities<br>
‚Üí Why global climate finance often targets developing countries</li>
</ul>
</section>
<section id="redd-and-pes" class="slide level2">
<h2>REDD+ and PES</h2>
<ul>
<li class="fragment">Avoiding deforestation creates <strong>positive externalities</strong></li>
<li class="fragment"><strong>Payments for Ecosystem Services (PES)</strong>:
<ul>
<li class="fragment">Pay local households for the environmental services they provide<br>
</li>
<li class="fragment">Internalize the externality through incentive-compatible contracts<br>
</li>
</ul></li>
<li class="fragment">Example: <strong>REDD+</strong>
<ul>
<li class="fragment"><em>Reducing Emissions from Deforestation and Forest Degradation</em></li>
<li class="fragment"><span class="math inline">\(+\)</span> Sustainable forest management for carbon storage</li>
</ul></li>
</ul>
</section>
<section id="who-pays-for-pes-contracts" class="slide level2">
<h2>Who Pays for PES Contracts?</h2>
<ul>
<li class="fragment">Polluters (firms or countries) are often required by regulation to <strong>limit their total emissions</strong>.<br>
</li>
<li class="fragment">Instead of cutting emissions directly, they can <strong>buy offsets</strong>, such as:
<ul>
<li class="fragment">‚ÄúProtect 1 hectare of rainforest instead of emitting 100 tons of CO‚ÇÇ.‚Äù</li>
</ul></li>
<li class="fragment">These offsets are integrated into <strong><span style="color:#e63946; font-weight:700;" data-tippy-content="A market-based system where the government sets a cap on total emissions and issues tradable permits (allowances). Firms that cut emissions cheaply can sell permits, and others buy them ‚Äî ensuring the target is met at the lowest overall cost.">cap-and-trade</span></strong> markets.
<ul>
<li class="fragment">Companies can choose between <strong>permits</strong> and <strong>offsets</strong> to meet emission limits.<br>
</li>
</ul></li>
<li class="fragment">International PES schemes therefore act as <strong>global offsets</strong>, transferring resources from <strong>high-emission (often rich)</strong> countries to <strong>low-income</strong> forest communities that conserve carbon sinks.</li>
</ul>
</section>
<section id="why-is-pes-hard" class="slide level2">
<h2>Why Is PES Hard?</h2>
<h3 id="verifiability-additionality">Verifiability &amp; Additionality</h3>
<ul>
<li class="fragment"><strong>Verifiability</strong> ‚Üí Can we confirm the forest was truly protected?
<ul>
<li class="fragment">Avoids <em>fraud</em> and <em>double counting</em></li>
</ul></li>
<li class="fragment"><strong>Additionality</strong> ‚Üí Would it have been protected <em>anyway</em>?
<ul>
<li class="fragment">Avoids <em>non-additional</em> payments</li>
</ul></li>
<li class="fragment">Non-verifiable or non-additional contracts<br>
‚Üí Waste resources and fail to reduce total emissions</li>
</ul>
</section>
<section id="pes-role-playing-game" class="slide level2">
<h2>PES Role-Playing Game üé≤</h2>
<p>You are a <strong>household</strong> in rural <em>Ephoria</em>, a low-income tropical country.</p>
<center>
<a href="https://bcecon.github.io/econ-340-cw-06.html" target="_blank"> <strong>üéÆ View the Game</strong> </a>
</center>
<ul>
<li class="fragment">Forest resources = <strong>subsistence + cash</strong></li>
<li class="fragment">Government introduces a <strong>PES contract</strong>:
<ul>
<li class="fragment">Pay $50 if you agree not to harvest wood this year<br>
</li>
<li class="fragment">Each round = new policy design</li>
</ul></li>
</ul>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li class="fragment"><strong>Option A: Deforest</strong>
<ul>
<li class="fragment">Harvest wood for cooking or sale</li>
</ul></li>
</ul>
<!-- - Value = playing card √ó \$10   -->
<!--   (face cards & jokers = \$0) -->
</div><div class="column" data-align="center" style="width:10%;">
<p><strong>vs.</strong></p>
</div><div class="column" style="width:45%;">
<ul>
<li class="fragment"><strong>Option B: Conserve</strong>
<ul>
<li class="fragment">Accept PES payment<br>
</li>
<li class="fragment">Commit <em>not</em> to harvest</li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="contract-periods-treatments" class="slide level2">
<h2>Contract Periods (Treatments)</h2>
<table>
<colgroup>
<col style="width: 10%">
<col style="width: 38%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Period</th>
<th style="text-align: left;">Policy Context</th>
<th style="text-align: left;">Key Feature</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: left;">Baseline</td>
<td style="text-align: left;">No PES (individual harvest only)</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>1</strong></td>
<td style="text-align: left;">PES</td>
<td style="text-align: left;">Legal PES contracts only</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>2</strong></td>
<td style="text-align: left;">PES + Illegal Harvest</td>
<td style="text-align: left;">Can cheat; subject to random audit</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>3</strong></td>
<td style="text-align: left;">Community PES</td>
<td style="text-align: left;">Group decision and shared payment</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>4</strong></td>
<td style="text-align: left;">Community + Illegal Harvest</td>
<td style="text-align: left;">Group and individual enforcement</td>
</tr>
</tbody>
</table>
</section>
<section id="cp1-baseline-vs.-pes" class="slide level2">
<h2>CP1 ‚Äì <em>Baseline vs.&nbsp;PES</em></h2>
<ul>
<li class="fragment"><p>How did you decide between harvesting and PES?<br>
</p></li>
<li class="fragment"><p>Did your <strong>card value</strong> affect your choice?</p></li>
<li class="fragment"><p>üß≠ <strong>Concepts</strong></p>
<ul>
<li class="fragment">Opportunity cost (abatement cost)</li>
<li class="fragment">Additionality (True <em>additional</em> conservation only occurs when the payment <strong>changes</strong> behavior)</li>
<li class="fragment">Heterogeneity in cost ‚Üí cost-effective targeting</li>
</ul></li>
</ul>
</section>
<section id="cp2-illegal-harvest-option" class="slide level2">
<h2>CP2 ‚Äì <em>Illegal Harvest Option</em></h2>
<ul>
<li class="fragment"><p>You could sign PES but still harvest (‚Äúcheat‚Äù)</p></li>
<li class="fragment"><p>Small chance of being <strong>audited</strong><br>
</p></li>
<li class="fragment"><p>If caught ‚Üí lose payment + fine</p></li>
<li class="fragment"><p>üß† <strong>Key Idea:</strong> Rational Theory of Crime (Becker 1968)</p>
<ul>
<li class="fragment">Expected benefit of cheating =<br>
<em>(gain if not caught)</em> ‚àí <em>(probability √ó penalty)</em></li>
</ul></li>
<li class="fragment"><p>üí≠ What share of the class cheated? Why?</p></li>
</ul>
</section>
<section id="cp3-community-contract" class="slide level2">
<h2>CP3 ‚Äì <em>Community Contract</em></h2>
<ul>
<li class="fragment"><p>Now, each <strong>community decides together</strong> whether to join PES<br>
</p></li>
<li class="fragment"><p>If accepted, PES payment must be <strong>shared</strong> among members<br>
</p></li>
<li class="fragment"><p>Split rules vary: equal, proportional, needs-based, etc.</p></li>
<li class="fragment"><p>ü§ù <strong>Concepts</strong></p>
<ul>
<li class="fragment">Community governance (Ostrom)<br>
</li>
<li class="fragment">Fairness &amp; equity norms<br>
</li>
<li class="fragment">Coordination vs.&nbsp;free-riding</li>
</ul></li>
</ul>
</section>
<section id="cp4-community-contract-illegal-harvest" class="slide level2">
<h2>CP4 ‚Äì <em>Community Contract + Illegal Harvest</em></h2>
<ul>
<li class="fragment">Communities can <strong>join PES</strong> <em>and</em> decide whether to <strong>police</strong>
<ul>
<li class="fragment">If policing ‚Üí cost $5 per household, no cheating possible<br>
</li>
<li class="fragment">If not ‚Üí some may harvest illegally<br>
</li>
<li class="fragment">Audit probability increases with # illegal harvesters</li>
</ul></li>
<li class="fragment">‚öñÔ∏è <strong>Concepts</strong>
<ul>
<li class="fragment">Self-governance<br>
</li>
<li class="fragment">Collective enforcement<br>
</li>
<li class="fragment">Trust &amp; social capital<br>
</li>
<li class="fragment">Deterrence by monitoring</li>
</ul></li>
</ul>
</section>
<section id="the-promise-of-forest-based-pes" class="slide level2">
<h2>üå≥ The Promise of Forest-Based PES</h2>
<ul>
<li class="fragment"><strong>Aligns incentives</strong>: Encourages conservation by paying for the ecosystem services forests provide (carbon storage, biodiversity, water regulation).<br>
</li>
<li class="fragment"><strong>Cost-effective mitigation</strong>: Taps into <em>low-cost abatement opportunities</em> in developing regions ‚Äî ‚Äúclimate finance with co-benefits.‚Äù<br>
</li>
<li class="fragment"><strong>Income diversification</strong>: Provides a stable cash flow to rural households that might otherwise rely on unsustainable logging or agriculture.<br>
</li>
<li class="fragment"><strong>Global‚Äìlocal partnership</strong>: Transfers resources from high-emission (often rich) countries to low-income communities maintaining forests.<br>
</li>
<li class="fragment"><strong>Flexibility</strong>: Can be scaled or customized ‚Äî individual, community, or landscape-level programs.</li>
</ul>
</section>
<section id="potential-pitfalls-and-challenges" class="slide level2">
<h2>‚ö†Ô∏è Potential Pitfalls and Challenges</h2>
<ul>
<li class="fragment"><p><strong>Additionality problem</strong><br>
<!-- ‚Üí Are we paying people for actions they would have done anyway?   --> ‚Üí CP1 in our game shows how payments can reward <em>non-additional</em> conservation.</p></li>
<li class="fragment"><p><strong>Verification and enforcement</strong><br>
<!-- ‚Üí How can we monitor whether deforestation really stopped?   --> ‚Üí Illegal harvesting in CP2 and CP4 highlights the <em>verifiability challenge.</em></p></li>
<li class="fragment"><p><strong>Leakage</strong><br>
‚Üí Conservation in one area can shift deforestation to another.<br>
‚Üí Not captured in our classroom game, but critical in real programs.</p></li>
<li class="fragment"><p><strong>Equity and fairness</strong><br>
‚Üí Who gets paid ‚Äî landowners or landless users?<br>
‚Üí How are community payments shared (as in CP3‚ÄìCP4)?<br>
‚Üí Risk of elite capture or exclusion of marginalized groups.</p></li>
<li class="fragment"><p><strong>Dependence on external funding</strong><br>
‚Üí Long-term sustainability uncertain once donor support ends.</p></li>
</ul>
</section>
<section id="equity-empowerment-and-governance" class="slide level2">
<h2>‚öñÔ∏è Equity, Empowerment, and Governance</h2>
<ul>
<li class="fragment">PES can <strong>empower communities</strong> by recognizing their role in environmental stewardship ‚Äî especially under community-based contracts (like CP3‚ÄìCP4).<br>
</li>
<li class="fragment">However, unequal land rights and bargaining power can <strong>reinforce inequalities</strong> ‚Äî wealthier households or leaders may capture the majority of benefits.<br>
</li>
<li class="fragment">Trust and local governance capacity determine whether PES fosters cooperation or conflict.<br>
</li>
<li class="fragment">The design of <strong>payment division rules</strong> (equal vs.&nbsp;proportional vs.&nbsp;needs-based) has real implications for fairness and motivation.</li>
</ul>
</section>
<section id="discussion" class="slide level2">
<h2>üß† Discussion</h2>
<ul>
<li class="fragment">In our experiment, who gained most from PES ‚Äî low-card or high-card players?<br>
</li>
<li class="fragment">Did community-level decision-making improve or reduce fairness?<br>
</li>
<li class="fragment">If you were a policymaker in <em>Ephoria</em>, how would you redesign PES to:
<ul>
<li class="fragment">Improve <strong>additionality</strong>,<br>
</li>
<li class="fragment">Strengthen <strong>compliance</strong>, and<br>
</li>
<li class="fragment">Ensure <strong>equitable benefit sharing</strong>?</li>
</ul></li>
<li class="fragment">üí¨ <strong>Key takeaway:</strong>
<ul>
<li class="fragment"><blockquote>
<p>PES succeeds not just when payments exist ‚Äî but when they are <em>credible, additional, verifiable,</em> and <em>fair.</em></p>
</blockquote></li>
</ul></li>
</ul>
<!-- Load Tippy.js -->
<link rel="stylesheet" href="https://unpkg.com/tippy.js@6/dist/tippy.css">
<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="https://unpkg.com/tippy.js@6"></script>
<!-- Custom tooltip style -->
<style>
.tippy-box[data-theme~='light-border'] {
  font-size: 2rem;        /* increase overall text size */
  line-height: 1.5;         /* better spacing */
  color: #1c1c1c;
  background-color: #fefefe;
  border: 1px solid #cccccc;
  padding: 10px;
}
.tippy-arrow {
  color: #fefefe;
}
</style>
<!-- Initialize tooltip -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  tippy('[data-tippy-content]', {
    allowHTML: true,
    theme: 'light-border',
    maxWidth: 600,
    placement: 'top',
    animation: 'scale',
    delay: [100, 100],
  });
});
</script>

<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script>
    document.addEventListener('wheel', function(event) {
        if (event.deltaY > 0) {
            Reveal.next(); // Scroll down to go to the next slide
        } else {
            Reveal.prev(); // Scroll up to go to the previous slide
        }
    }, false);

    window.onload = function() {
        document.querySelectorAll('a').forEach(function(link) {
            link.setAttribute('target', '_blank');
        });
    };

    document.addEventListener('DOMContentLoaded', function() {
      // Query all anchor tags within code blocks (adjust the selector as needed)
      document.querySelectorAll('pre code a').forEach(function(element) {
        element.addEventListener('click', function(e) {
          e.preventDefault(); // Prevent the default anchor action
          e.stopPropagation(); // Stop the event from bubbling up
        });
      });
    });



    document.addEventListener('DOMContentLoaded', function() {
        // Target all span elements within code blocks that have IDs starting with 'cb'
        document.querySelectorAll('pre code span[id^="cb"]').forEach(function(element) {
            element.addEventListener('mouseenter', function() {
                // Apply yellow background color to the hovered span element
                this.style.backgroundColor = '#FFFF99';
            });
            element.addEventListener('mouseleave', function() {
                // Revert the background color when the mouse leaves the span element
                this.style.backgroundColor = '';
            });
        });
    });



    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
          let selectedAnnoteEl;
          const selectorForAnnotation = ( cell, annotation) => {
            let cellAttr = 'data-code-cell="' + cell + '"';
            let lineAttr = 'data-code-annotation="' +  annotation + '"';
            const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
            return selector;
          }
          const selectCodeLines = (annoteEl) => {
            const doc = window.document;
            const targetCell = annoteEl.getAttribute("data-target-cell");
            const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
            const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
            const lines = annoteSpan.getAttribute("data-code-lines").split(",");
            const lineIds = lines.map((line) => {
              return targetCell + "-" + line;
            })
            let top = null;
            let height = null;
            let parent = null;
            if (lineIds.length > 0) {
                //compute the position of the single el (top and bottom and make a div)
                const el = window.document.getElementById(lineIds[0]);
                top = el.offsetTop;
                height = el.offsetHeight;
                parent = el.parentElement.parentElement;
              if (lineIds.length > 1) {
                const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
                const bottom = lastEl.offsetTop + lastEl.offsetHeight;
                height = bottom - top;
              }
              if (top !== null && height !== null && parent !== null) {
                // cook up a div (if necessary) and position it 
                let div = window.document.getElementById("code-annotation-line-highlight");
                if (div === null) {
                  div = window.document.createElement("div");
                  div.setAttribute("id", "code-annotation-line-highlight");
                  div.style.position = 'absolute';
                  parent.appendChild(div);
                }
                div.style.top = top - 2 + "px";
                div.style.height = height + 4 + "px";
                let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
                if (gutterDiv === null) {
                  gutterDiv = window.document.createElement("div");
                  gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                  gutterDiv.style.position = 'absolute';
                  const codeCell = window.document.getElementById(targetCell);
                  const gutter = codeCell.querySelector('.code-annotation-gutter');
                  gutter.appendChild(gutterDiv);
                }
                gutterDiv.style.top = top - 2 + "px";
                gutterDiv.style.height = height + 4 + "px";
              }
              selectedAnnoteEl = annoteEl;
            }
          };
          const unselectCodeLines = () => {
            const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
            elementsIds.forEach((elId) => {
              const div = window.document.getElementById(elId);
              if (div) {
                div.remove();
              }
            });
            selectedAnnoteEl = undefined;
          };
          // Handle positioning of the toggle
          window.addEventListener(
          "resize",
          throttle(() => {
            elRect = undefined;
            if (selectedAnnoteEl) {
              selectCodeLines(selectedAnnoteEl);
            }
          }, 10)
          );
          function throttle(fn, ms) {
          let throttle = false;
          let timer;
            return (...args) => {
              if(!throttle) { // first call gets through
                  fn.apply(this, args);
                  throttle = true;
              } else { // all the others get throttled
                  if(timer) clearTimeout(timer); // cancel #2
                  timer = setTimeout(() => {
                    fn.apply(this, args);
                    timer = throttle = false;
                  }, ms);
              }
            };
          }
          const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
          for (let i=0; i<annoteTargets.length; i++) {
            const annoteTarget = annoteTargets[i];
            const targetCell = annoteTarget.getAttribute("data-target-cell");
            const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
            const contentFn = () => {
              const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
              if (content) {
                const tipContent = content.cloneNode(true);
                tipContent.classList.add("code-annotation-tip-content");
                return tipContent.outerHTML;
              }
            }
            const config = {
              allowHTML: true,
              content: contentFn,
              onShow: (instance) => {
                selectCodeLines(instance.reference);
                instance.reference.classList.add('code-annotation-active');
                window.tippy.hideAll();
              },
              onHide: (instance) => {
                unselectCodeLines();
                instance.reference.classList.remove('code-annotation-active');
              },
              maxWidth: 300,
              delay: [50, 0],
              duration: [200, 0],
              offset: [5, 10],
              arrow: true,
              appendTo: function(el) {
                return el.parentElement.parentElement.parentElement;
              },
              interactive: true,
              interactiveBorder: 10,
              theme: 'light-border',
              placement: 'right',
              popperOptions: {
                modifiers: [
                {
                  name: 'flip',
                  options: {
                    flipVariations: false, // true by default
                    allowedAutoPlacements: ['right'],
                    fallbackPlacements: ['right', 'top', 'top-start', 'top-end'],
                  },
                },
                {
                  name: 'preventOverflow',
                  options: {
                    mainAxis: false,
                    altAxis: false
                  }
                }
                ]        
              }      
            };
            window.tippy(annoteTarget, config); 
          }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>